<template name="editCourse">
  {{#if getCourse}}
  <div class="container py-4">
    <div class="row justify-content-center">
      <div class="col-lg-10 col-xl-8">
        <div class="card shadow-lg p-4 bg-white border-0 rounded-4">
          <h3 class="text-center text-primary mb-4">üõ†Ô∏è Edit Course</h3>

          <form class="edit-course-form">
            <div class="row g-3">
              <div class="col-md-6">
                <label class="form-label">Title</label>
                <input
                  type="text"
                  class="form-control title"
                  name="title"
                  value="{{getCourse.title}}"
                  required
                />
              </div>

              <div class="col-md-6">
                <label class="form-label">Category</label>
                <input
                  type="text"
                  class="form-control category"
                  name="category"
                  value="{{getCourse.category}}"
                  required
                />
              </div>

              <div class="col-md-6">
                <label class="form-label">Duration (hours)</label>
                <input
                  type="number"
                  class="form-control duration"
                  name="duration"
                  value="{{getCourse.duration}}"
                  required
                />
              </div>

              <div class="col-md-6">
                <label class="form-label">Number of Modules</label>
                <input
                  type="number"
                  class="form-control num-of-modules"
                  name="numModules"
                  value="{{getCourse.numModules}}"
                  required
                />
              </div>

              <div class="col-12">
                <label class="form-label">Description</label>
                <textarea
                  class="form-control desc"
                  name="description"
                  rows="3"
                  required
                >
{{getCourse.desc}}</textarea
                >
              </div>
            </div>

            {{#if getModules}}
            <hr class="my-4" />
            <h5 class="text-secondary mb-3">üìö Modules</h5>
            <div id="modules-container">
              {{#each getModules}}
              <div
                class="border-start border-4 border-primary bg-light p-3 mb-3 rounded module-input"
              >
                <input type="hidden" class="module-id" value="{{this._id}}" />

                <h6 class="mb-3 fw-semibold text-primary">
                  Module {{IndexingModules @index}}
                </h6>

                <label class="form-label">Module Title</label>
                <input
                  type="text"
                  class="form-control module-title mb-2"
                  name="moduleTitle"
                  value="{{this.title}}"
                  required
                />

                <label class="form-label">Module Description</label>
                <input
                  type="text"
                  class="form-control module-desc"
                  name="moduleDesc"
                  value="{{this.description}}"
                />
              </div>
              {{/each}}
            </div>
            {{/if}}

            <!-- Actions -->
            <div class="d-flex justify-content-between mt-4">
              <a href="/admin/courses" class="btn btn-outline-secondary">
                ‚Üê Back
              </a>
              <button type="submit" class="btn btn-success">
                üíæ Save Changes
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  {{/if}}
</template>
